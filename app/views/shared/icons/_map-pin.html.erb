
<% 
  # Default values
  variant ||= 'default'
  status ||= 'default'
  size ||= 'medium'
  color ||= 'currentColor'
  
  # CSS classes for different states
  icon_classes = {
    default: 'text-gray-500',
    active: 'text-blue-500',
    inactive: 'text-gray-300',
    highlighted: 'text-red-500'
  }
  
  # Size mappings
  size_classes = {
    small: 'w-4 h-4',
    medium: 'w-6 h-6',
    large: 'w-8 h-8'
  }
%>

<div class="map-pin-icon <%= icon_classes[status.to_sym] %> <%= size_classes[size.to_sym] %>">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="<%= color %>">
    <% case variant %>
    <% when 'outlined' %>
      <%# Outlined map pin with thin lines %>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
    
    <% when 'filled' %>
      <%# Filled map pin with depth and shadow effect %>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      <%# Shadow effect %>
      <path d="M12 11l.117-.007A1 1 0 0011 12l.883-.993z" fill="currentColor" opacity="0.3" />
    
    <% when 'marked' %>
      <%# Map pin with additional marker details %>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      <%# Marker details %>
      <circle cx="12" cy="11" r="1" fill="currentColor" opacity="0.7" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v3" opacity="0.5" />
    
    <% else %>
      <%# Default map pin icon %>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
    <% end %>

    <%# Status-specific modifications %>
    <% if status == 'highlighted' %>
      <circle cx="12" cy="11" r="4" stroke="currentColor" stroke-width="2" opacity="0.3" fill="none" />
    <% elsif status == 'inactive' %>
      <line x1="3" y1="21" x2="21" y2="3" stroke="currentColor" stroke-width="2" opacity="0.6" />
    <% end %>
  </svg>
</div>
