<%= form_with model: payment_method, class: "space-y-6" do |f| %>
  <%# Method Type %>
  <div>
    <%= f.label :method_type, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.select :method_type, 
        [
          ['Bank Account', 'bank'],
          ['Credit/Debit Card', 'card'],
          ['Mobile Money', 'mobile_money'],
          ['Digital Wallet', 'wallet'],
          ['Other', 'other']
        ],
        { include_blank: 'Select a payment method type' },
        { class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500", 
          required: true,
          autofocus: true }
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      Select the type of payment method you want to add
    </p>
  </div>
  
  <%# Provider %>
  <div>
    <%= f.label :provider, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.text_field :provider, 
        class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500",
        placeholder: "e.g. Bank Name, Card Issuer, Mobile Network"
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      The provider of this payment method (optional)
    </p>
  </div>
  
  <%# Account Number %>
  <div>
    <%= f.label :account_number, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.text_field :account_number, 
        class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500",
        placeholder: "Account/Card number or Mobile Number",
        required: true
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      Your account number, card number, or mobile number
    </p>
  </div>
  
  <%# Account Name %>
  <div>
    <%= f.label :account_name, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.text_field :account_name, 
        class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500",
        placeholder: "Name on account/card"
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      The name associated with this payment method (optional)
    </p>
  </div>
  
  <%# Expiry Date %>
  <div>
    <%= f.label :expiry_date, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.date_field :expiry_date, 
        class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500"
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      Expiry date if applicable (optional)
    </p>
  </div>
  
  <%# Description %>
  <div>
    <%= f.label :description, class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
    <%= f.text_field :description, 
        class: "py-2 px-3 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-primary-500 focus:border-primary-500",
        placeholder: "e.g. My Personal Card, Business Account",
        required: true
    %>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
      A friendly name to help you identify this payment method
    </p>
  </div>
  
  <%# Default Option %>
  <div class="flex items-center">
    <div class="flex items-center h-5">
      <%= f.check_box :default, class: "py-2 px-3 focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded" %>
    </div>
    <div class="ml-3 text-sm">
      <%= f.label :default, "Make this my default payment method", class: "font-medium text-gray-700 dark:text-gray-300" %>
      <p class="text-gray-500 dark:text-gray-400">This will be used for deposits and withdrawals by default</p>
    </div>
  </div>
  
  <%# Submit Buttons %>
  <div class="flex justify-end space-x-3">
    <%= link_to "Cancel", payment_methods_path, class: "btn btn-outline" %>
    <%= f.submit payment_method.new_record? ? "Add Payment Method" : "Update Payment Method", class: "btn btn-primary" %>
  </div>
<% end %>
