<%# Edit Ride Booking Page %>
<div class="bg-white dark:bg-gray-900 shadow-sm rounded-lg overflow-hidden">
  <div class="px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700">
    <h1 class="text-xl font-semibold text-gray-900 dark:text-white">Edit Ride Booking #<%= @ride_booking.id %></h1>
    <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Update ride booking details</p>
  </div>
  
  <div class="px-4 py-5 sm:p-6">
    <%= form_with(model: @ride_booking, url: admin_transportation_ride_booking_path(@ride_booking), class: "space-y-6") do |form| %>
      <% if @ride_booking.errors.any? %>
        <div class="bg-red-50 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded relative mb-4" role="alert">
          <strong class="font-bold">Error:</strong>
          <span class="block sm:inline"><%= pluralize(@ride_booking.errors.count, "error") %> prohibited this ride booking from being saved:</span>
          <ul class="list-disc list-inside mt-2">
            <% @ride_booking.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Booking Details</h3>
          
          <div class="space-y-4">
            <div>
              <%= form.label :status, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.select :status, RideBooking.statuses.keys.map { |s| [s.titleize, s] }, {}, class: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 dark:bg-gray-800 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md" %>
            </div>
            
            <div>
              <%= form.label :price, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <div class="mt-1 relative rounded-md shadow-sm">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <span class="text-gray-500 dark:text-gray-400 sm:text-sm">â‚µ</span>
                </div>
                <%= form.number_field :price, step: "0.01", class: "pl-7 mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
              </div>
            </div>
            
            <div>
              <%= form.label :payment_status, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.select :payment_status, ["pending", "paid", "failed", "refunded"].map { |s| [s.titleize, s] }, {}, class: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-700 dark:bg-gray-800 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md" %>
            </div>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Driver Information</h3>
          
          <div class="space-y-4">
            <div>
              <%= form.label :driver_name, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.text_field :driver_name, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
            </div>
            
            <div>
              <%= form.label :driver_phone, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.text_field :driver_phone, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
            </div>
            
            <div>
              <%= form.label :vehicle_model, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.text_field :vehicle_model, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
            </div>
            
            <div>
              <%= form.label :vehicle_color, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.text_field :vehicle_color, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
            </div>
            
            <div>
              <%= form.label :license_plate, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
              <%= form.text_field :license_plate, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
            </div>
          </div>
        </div>
      </div>
      
      <div>
        <%= form.label :notes, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
        <%= form.text_area :notes, rows: 4, class: "mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-800 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm" %>
      </div>
      
      <div class="flex justify-end space-x-3">
        <%= link_to "Cancel", admin_transportation_ride_booking_path(@ride_booking), class: "inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500" %>
        <%= form.submit "Update Ride Booking", class: "inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500" %>
      </div>
    <% end %>
  </div>
</div>

<div class="mt-6">
  <%= link_to admin_transportation_ride_bookings_path, class: "inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
    </svg>
    Back to Ride Bookings
  <% end %>
</div>
